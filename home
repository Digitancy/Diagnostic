<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Diagnostic de Maturit√© Digitale</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      animation: fadeIn 1s ease-in;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to right, #f4f7f9, #eef2f5);
      color: #333;
      padding: 40px;
      max-width: 900px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 2em;
      color: #004080;
      margin-bottom: 40px;
    }
    .question-block {
      background: white;
      border-left: 6px solid #004080;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 25px;
      transition: transform 0.2s ease;
    }
    .question-block:hover {
      transform: translateY(-2px);
    }
    .question-block h3 {
      margin-bottom: 10px;
      color: #004080;
    }
    label {
      display: block;
      margin: 6px 0;
      font-weight: 500;
    }
    input[type="radio"] {
      margin-right: 10px;
    }
    .result {
      background: #e0f7fa;
      border: 1px solid #b2ebf2;
      padding: 25px;
      border-radius: 12px;
      margin-top: 40px;
      font-size: 1.1em;
    }
    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    button {
      background-color: #B72E50;
      color: white;
      padding: 12px 25px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #D23F65;
    }
    .progress-bar {
      width: 100%;
      background: #ddd;
      height: 10px;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 30px;
    }
    .progress-bar-fill {
      height: 100%;
      background-color: #B72E50;
      width: 0%;
      transition: width 0.3s ease-in-out;
    }
    .section {
      display: none;
      opacity: 0;
      transform: translateX(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .section.active {
      display: block;
      opacity: 1;
      transform: translateX(0);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes buttonPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    h2 {
      transition: transform 0.3s ease, color 0.3s ease;
    }
    h2:hover {
      transform: scale(1.03);
      color: #B72E50;
    }
  </style>
</head>
<body>
  <h1>üöÄ Diagnostic de Maturit√© Digitale <span style="font-size:0.5em; color:#B72E50;">by Digitancy</span></h1>

  <div id="progressContainer" class="progress-bar" style="display: none; position: relative; height: 20px; background: #f0f0f0; border-radius: 10px; box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);">
    <div class="progress-bar-fill" id="progressFill" style="height: 100%; background: linear-gradient(90deg, #B72E50, #D23F65); width: 0%; border-radius: 10px 0 0 10px; transition: width 0.3s ease-in-out;"></div>
    <div id="progressLabel" style="position: absolute; width: 100%; text-align: center; font-size: 13px; color: #333; top: 0; line-height: 20px; font-weight: 600;">0%</div>
  </div>

  <div id="introSection" class="section active">
  <div class="question-block" style="border-left: 6px solid #B72E50; background: linear-gradient(135deg, #ffffff, #fdf1f4); box-sizing: border-box; max-width: 100%; overflow: hidden; padding: 40px;">
    <h2 style="color: #B72E50; text-align: center; font-size: 1.8em; margin-bottom: 10px;">üîç D√©marrons votre diagnostic</h2>
    <p style="text-align: center; color: #555; margin-bottom: 30px; font-size: 1em;">Merci de renseigner les informations de votre entreprise pour personnaliser l'exp√©rience.</p>
    <div style="display: flex; flex-wrap: wrap; gap: 30px; justify-content: space-between;">
      <div style="flex: 1 1 100%; min-width: 250px;">
        <label style="font-weight: 600; color: #333;">üè¢ Nom de l'entreprise :</label>
        <input type="text" id="entrepriseNom" required style="width: 100%; padding: 14px; border: 1px solid #ccc; border-radius: 10px; font-size: 1em;">
      </div>
      <div style="flex: 1 1 48%; min-width: 250px;">
        <label style="font-weight: 600; color: #333;">üë• Taille de l'entreprise :</label>
        <select id="entrepriseTaille" required style="width: 100%; padding: 14px; border: 1px solid #ccc; border-radius: 10px; font-size: 1em;">
          <option value="">-- S√©lectionnez --</option>
          <option value="TPE">TPE</option>
          <option value="PME">PME</option>
          <option value="ETI">ETI</option>
          <option value="Grand Groupe">Grand Groupe</option>
        </select>
      </div>
      <div style="flex: 1 1 48%; min-width: 250px;">
        <label style="font-weight: 600; color: #333;">üè≠ Secteur d'activit√© :</label>
        <input type="text" id="entrepriseSecteur" required style="width: 100%; padding: 14px; border: 1px solid #ccc; border-radius: 10px; font-size: 1em;">
      </div>
    </div>
  </div>
</div>
  </div>
</div>
  </div>

  <form id="diagnosticForm" style="display: none;"></form>

  <div class="navigation-buttons">
    <button id="prevBtn" style="display: none;">Retour</button>
    <button id="nextBtn">Suivant</button>
  </div>

  <div id="resultat" class="result" style="display:none;"></div>
  <div style="text-align:center; margin-top: 20px; display: none;" id="pdfBtnContainer">
    <button id="btnTelechargerPDF">üìÑ T√©l√©charger le rapport PDF</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const btn = document.getElementById("btnTelechargerPDF");
  if (btn) {
    btn.addEventListener("click", genererPDFManuel);
  }
});
</script>

  <script>
    // === R√©int√©gration compl√®te du script JavaScript ===
const axes = ["Leadership & Management", "People & Organisation", "Client Experience", "Technology", "Data & Insights"];
const axeColors = {
  "Leadership & Management": "#004C84",
  "People & Organisation": "#6E2A33",
  "Client Experience": "#B03A5B",
  "Technology": "#31747D",
  "Data & Insights": "#3E3E3E"
};
const descriptions = {
  "Leadership & Management": "√âvaluez la capacit√© de leadership √† piloter la transformation digitale.",
  "People & Organisation": "Mesurez l‚Äôaptitude de l‚Äôorganisation √† accompagner le changement digital.",
  "Client Experience": "Analysez la capacit√© √† proposer une exp√©rience client fluide et digitale.",
  "Technology": "Identifiez le niveau d‚Äôint√©gration des technologies dans votre organisation.",
  "Data & Insights": "√âvaluez la maturit√© dans la collecte et l‚Äôexploitation des donn√©es."
};
const reponses = ["Pas du tout", "En cours de r√©flexion", "Partiellement en place", "Compl√®tement op√©rationnel"];
const questions = {
  "Leadership & Management": ["Avez-vous une vision digitale clairement exprim√©e par la direction ?", "Avez-vous lanc√© des initiatives concr√®tes de transformation digitale ?", "Avez-vous exp√©riment√© des projets pilotes digitaux ?", "Disposez-vous d‚Äôune roadmap digitale structur√©e ?", "Avez-vous mis en place un mod√®le de leadership digital ?", "Votre organisation est-elle capable de passer √† l‚Äô√©chelle en digital ?", "Collaborez-vous activement dans un √©cosyst√®me digital ouvert ?"],
  "People & Organisation": ["Le personnel a-t-il conscience des enjeux du digital ?", "La culture digitale est-elle encourag√©e dans votre organisation ?", "Avez-vous d√©fini des r√¥les digitaux sp√©cifiques ?", "Travaillez-vous en √©quipes pluridisciplinaires digitalis√©es ?", "Votre organisation applique-t-elle des m√©thodes agiles √† grande √©chelle ?", "Innovez-vous activement en mati√®re de management digital ?", "Disposez-vous d‚Äôun environnement de travail enti√®rement digitalis√© ?"],
  "Client Experience": ["Proposez-vous des services via des canaux digitaux ?", "Avez-vous une strat√©gie cross-canal pour vos clients ?", "Offrez-vous une exp√©rience omnicanale coh√©rente ?", "Personnalisez-vous l'exp√©rience client √† l'aide du digital ?", "Co-cr√©ez-vous des services avec vos clients ?", "Utilisez-vous les donn√©es pour orienter votre marketing ?", "Cr√©ez-vous des exp√©riences clients pr√©dictives ?"],
  "Technology": ["Utilisez-vous des outils digitaux de base dans votre activit√© ?", "Int√©grez-vous des technologies √©mergentes ?", "Automatisez-vous certains processus gr√¢ce √† la technologie ?", "Disposez-vous d‚Äôune infrastructure technologique solide ?", "Menez-vous des projets d‚Äôinnovation technologique ?", "√ätes-vous capable d‚Äôindustrialiser vos solutions digitales ?", "Utilisez-vous des technologies v√©ritablement disruptives ?"],
  "Data & Insights": ["Les collaborateurs comprennent-ils la valeur de la donn√©e ?", "Collectez-vous des donn√©es pertinentes dans vos processus ?", "Les donn√©es guident-elles vos op√©rations ?", "Analysez-vous les donn√©es de fa√ßon pr√©dictive ?", "Avez-vous des syst√®mes pour capter des insights en temps r√©el ?", "Utilisez-vous l‚ÄôIA pour analyser vos donn√©es ?", "Automatisez-vous la prise de d√©cision gr√¢ce √† la donn√©e ?"]
};

let qIndex = 0;
let sectionIndex = 0;
const form = document.getElementById("diagnosticForm");
axes.forEach((axe, idx) => {
  const section = document.createElement("div");
  section.className = "section";
  // Suppression de l'affichage initial pour √©viter le doublon de l'axe 1
  const title = document.createElement("h2");
  title.textContent = axe;
  title.style.color = axeColors[axe];
  const desc = document.createElement("p");
  desc.textContent = descriptions[axe];
  desc.style.fontStyle = "italic";
  desc.style.color = axeColors[axe];
  section.appendChild(title);
  section.appendChild(desc);
  questions[axe].forEach((q, i) => {
    const div = document.createElement("div");
    div.className = "question-block";
    div.style.borderLeft = `6px solid ${axeColors[axe]}`;
    div.innerHTML = `<h3>${axe} - Niveau ${i + 1}</h3><p>${q}</p>`;
    reponses.forEach((rep, idx) => {
      div.innerHTML += `<label><input type="radio" name="q${qIndex}" value="${idx}" required> ${rep}</label>`;
    });
    section.appendChild(div);
    qIndex++;
  });
  form.appendChild(section);
});

const nextBtn = document.getElementById("nextBtn");
const prevBtn = document.getElementById("prevBtn");

const updateProgress = () => {
  const fill = document.getElementById("progressFill");
  const totalSteps = axes.length;
  const progressSteps = Math.max(0, sectionIndex - 1); // L'intro ne compte pas
  const percent = Math.min(progressSteps * 20, 100); // 20% par axe
  fill.style.width = `${percent}%`;
  document.getElementById("progressLabel").textContent = `${percent}%`;
};

nextBtn.addEventListener("click", function(e) {
  const intro = document.getElementById("introSection");
  if (intro && intro.classList.contains("active")) {
    const nom = document.getElementById("entrepriseNom").value.trim();
    const taille = document.getElementById("entrepriseTaille").value;
    const secteur = document.getElementById("entrepriseSecteur").value.trim();
    if (!nom || !taille || !secteur) {
      alert("Merci de remplir toutes les informations de l'entreprise.");
      return;
    }
    intro.classList.remove("active");
    document.getElementById("diagnosticForm").style.display = "block";
    document.getElementById("progressContainer").style.display = "block";
    const sections = document.querySelectorAll(".section");
    sectionIndex = 1;
    sections[sectionIndex].classList.add("active");
    updateProgress();
    window.scrollTo({ top: 0, behavior: 'smooth' });
    return;
  }
  e.preventDefault();
  const sections = document.querySelectorAll(".section");
  if (sectionIndex < sections.length - 1) {
    sections[sectionIndex].classList.remove("active");
    sectionIndex++;
    sections[sectionIndex].classList.add("active");
    prevBtn.style.display = "inline-block";
    if (sectionIndex === sections.length - 1) {
      nextBtn.textContent = "üéØ Voir mon profil";
    }
    updateProgress();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  } else {
    calculerScore();
    updateProgress();
  }
});

prevBtn.addEventListener("click", function(e) {
  e.preventDefault();
  const sections = document.querySelectorAll(".section");
  if (sectionIndex > 0) {
    sections[sectionIndex].classList.remove("active");
    sectionIndex--;
    sections[sectionIndex].classList.add("active");
    nextBtn.textContent = "Suivant";
    if (sectionIndex === 0) {
      prevBtn.style.display = "none";
    }
    updateProgress();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
});
  function calculerScore() {
  const scores = new Array(axes.length).fill(0);
  const questionsParAxe = 7;
  const inputs = document.querySelectorAll("input[type=radio]:checked");
  if (inputs.length < 35) {
    alert("Merci de r√©pondre √† toutes les questions.");
    return;
  }
  inputs.forEach((input, index) => {
    const axeIndex = Math.floor(index / questionsParAxe);
    scores[axeIndex] += parseInt(input.value);
  });
  const niveauFinal = score => {
    if (score <= 3) return "Explorer";
    if (score <= 6) return "Activator";
    if (score <= 9) return "Experimenter";
    if (score <= 12) return "Visionary";
    if (score <= 15) return "Leader";
    if (score <= 18) return "Innovator";
    return "Disruptor";
  };
  let totalScore = scores.reduce((a, b) => a + b, 0);
  const profil = niveauFinal(totalScore);
  const result = document.getElementById("resultat");
  result.style.display = "block";
  let html = `<h2>üß† R√©sultats de ${document.getElementById("entrepriseNom").value}</h2>`;
  const profilDescriptions = {
    "Explorer": "Vous √™tes au d√©but de votre parcours de transformation digitale. Il est essentiel de sensibiliser vos √©quipes, d'explorer les opportunit√©s offertes par le digital et de structurer une premi√®re feuille de route.",
    "Activator": "Votre organisation commence √† prendre conscience des enjeux digitaux. Des actions pilotes sont lanc√©es, mais une structuration plus globale est n√©cessaire.",
    "Experimenter": "Votre entreprise exp√©rimente le digital avec des projets pilotes. Il est temps de capitaliser sur ces initiatives pour √©laborer une vision coh√©rente.",
    "Visionary": "Une vision digitale commence √† se dessiner et des chantiers structurants sont en place. Il reste √† renforcer l'ex√©cution et l'alignement organisationnel.",
    "Leader": "Votre organisation est avanc√©e sur le digital avec une vraie capacit√© d'ex√©cution. Il faut maintenant viser l‚Äôagilit√© √† grande √©chelle.",
    "Innovator": "Vous innovez √† l‚Äô√©chelle et exploitez pleinement les leviers digitaux. Un effort particulier sur l‚Äôouverture et la transversalit√© renforcera votre impact.",
    "Disruptor": "Votre organisation est un mod√®le de transformation. Vous pouvez d√©sormais jouer un r√¥le moteur dans votre √©cosyst√®me et co-construire l'avenir."
  };
  const axeDescriptions = {
    "Leadership & Management": "Mesure la capacit√© du leadership √† piloter une transformation digitale structur√©e, avec vision et gouvernance.",
    "People & Organisation": "√âvalue l‚Äôaptitude des collaborateurs et de la culture d‚Äôentreprise √† accompagner les changements num√©riques.",
    "Client Experience": "Analyse la maturit√© des parcours clients et l‚Äôusage du digital pour fluidifier et personnaliser l‚Äôexp√©rience.",
    "Technology": "Juge le niveau d‚Äôadoption, d'automatisation et d‚Äôindustrialisation des solutions technologiques.",
    "Data & Insights": "Mesure la capacit√© √† collecter, analyser et valoriser les donn√©es pour orienter les d√©cisions."
  };
  html += `<p><strong>Taille :</strong> ${document.getElementById("entrepriseTaille").value}</p>`;
  html += `<p><strong>Secteur :</strong> ${document.getElementById("entrepriseSecteur").value}</p>`;
  html += `<p><strong>Profil Global :</strong> ${profil}</p>`;
  html += '<ul>';
  scores.forEach((score, i) => {
    html += `<li><strong>${axes[i]}</strong> ‚Üí ${niveauFinal(score)}</li>`;
  });
  html += '</ul>';
  html += `<p style="margin-top:20px;"><strong>Description du Profil Global :</strong><br>${profilDescriptions[profil]}</p>`;
  html += '<div style="margin-top: 20px;">';
  scores.forEach((score, i) => {
    html += `<p><strong>${axes[i]} :</strong> ${axeDescriptions[axes[i]]}</p>`;
  });
  html += '</div>';
  html += '<p><em>G√©n√©r√© par Digitancy</em></p>';
  result.innerHTML = html;
  document.querySelector(".navigation-buttons").style.display = "none";
  document.getElementById('pdfBtnContainer').style.display = 'block';
}
function genererPDFManuel() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  const nom = document.getElementById("entrepriseNom").value;
  const taille = document.getElementById("entrepriseTaille").value;
  const secteur = document.getElementById("entrepriseSecteur").value;

  const niveauxAxes = [];
  const questionsParAxe = 7;
  const inputs = document.querySelectorAll("input[type=radio]:checked");
  const scores = new Array(axes.length).fill(0);

  inputs.forEach((input, index) => {
    const axeIndex = Math.floor(index / questionsParAxe);
    scores[axeIndex] += parseInt(input.value);
  });

  const niveauFinal = score => {
    if (score <= 3) return "Explorer";
    if (score <= 6) return "Activator";
    if (score <= 9) return "Experimenter";
    if (score <= 12) return "Visionary";
    if (score <= 15) return "Leader";
    if (score <= 18) return "Innovator";
    return "Disruptor";
  };

  const profilDescriptions = {
    "Explorer": "Vous √™tes au d√©but de votre parcours de transformation digitale. Il est essentiel de sensibiliser vos √©quipes, d'explorer les opportunit√©s offertes par le digital et de structurer une premi√®re feuille de route.",
    "Activator": "Votre organisation commence √† prendre conscience des enjeux digitaux. Des actions pilotes sont lanc√©es, mais une structuration plus globale est n√©cessaire.",
    "Experimenter": "Votre entreprise exp√©rimente le digital avec des projets pilotes. Il est temps de capitaliser sur ces initiatives pour √©laborer une vision coh√©rente.",
    "Visionary": "Une vision digitale commence √† se dessiner et des chantiers structurants sont en place. Il reste √† renforcer l'ex√©cution et l'alignement organisationnel.",
    "Leader": "Votre organisation est avanc√©e sur le digital avec une vraie capacit√© d'ex√©cution. Il faut maintenant viser l‚Äôagilit√© √† grande √©chelle.",
    "Innovator": "Vous innovez √† l‚Äô√©chelle et exploitez pleinement les leviers digitaux. Un effort particulier sur l‚Äôouverture et la transversalit√© renforcera votre impact.",
    "Disruptor": "Votre organisation est un mod√®le de transformation. Vous pouvez d√©sormais jouer un r√¥le moteur dans votre √©cosyst√®me et co-construire l'avenir."
  };

  const axeDescriptions = {
    "Leadership & Management": "Mesure la capacit√© du leadership √† piloter une transformation digitale structur√©e, avec vision et gouvernance.",
    "People & Organisation": "√âvalue l‚Äôaptitude des collaborateurs et de la culture d‚Äôentreprise √† accompagner les changements num√©riques.",
    "Client Experience": "Analyse la maturit√© des parcours clients et l‚Äôusage du digital pour fluidifier et personnaliser l‚Äôexp√©rience.",
    "Technology": "Juge le niveau d‚Äôadoption, d'automatisation et d‚Äôindustrialisation des solutions technologiques.",
    "Data & Insights": "Mesure la capacit√© √† collecter, analyser et valoriser les donn√©es pour orienter les d√©cisions."
  };

  const profilGlobal = niveauFinal(scores.reduce((a, b) => a + b, 0));
  scores.forEach(s => niveauxAxes.push(niveauFinal(s)));

  doc.setFontSize(16);
  doc.setTextColor(40);
  doc.text(`R√©sultats du Diagnostic - ${nom}`, 20, 20);

  doc.setFontSize(12);
  doc.setTextColor(60);
  doc.text(`Taille : ${taille}`, 20, 30);
  doc.text(`Secteur : ${secteur}`, 20, 38);
  doc.text(`Profil Global : ${profilGlobal}`, 20, 46);

  doc.setFontSize(11);
  doc.setTextColor(0);
  let y = 56;
  doc.text("Description du profil :", 20, y);
  y += 8;
  doc.setFontSize(10);
  doc.setTextColor(80);
  doc.text(doc.splitTextToSize(profilDescriptions[profilGlobal], 170), 20, y);

  y += 30;
  doc.setFontSize(13);
  doc.setTextColor(30);
  doc.text('D√©tails par axe :', 20, y);
  y += 8;

  axes.forEach((axe, i) => {
    doc.setFontSize(11);
    doc.setTextColor(20);
    doc.text(`- ${axe} ‚Üí ${niveauxAxes[i]}`, 22, y);
    y += 6;
    doc.setFontSize(10);
    doc.setTextColor(100);
    const lines = doc.splitTextToSize(axeDescriptions[axe], 170);
    doc.text(lines, 24, y);
    y += lines.length * 6 + 4;
  });

  y += 10;
  doc.setFontSize(10);
  doc.setTextColor(150);
  doc.text("G√©n√©r√© par Digitancy", 20, y);

  doc.save(`Diagnostic_${nom}.pdf`);
}
</script>
</body>
</html>
